{"ast":null,"code":"import React,{useRef}from'react';import ChainOfCustody from'./ChainOfCustody';import logo from'./logo.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ChainOfCustodyPage(_ref){let{product,onBack}=_ref;const certificateRef=useRef();if(!product){return/*#__PURE__*/_jsx(\"div\",{children:\"No product found for this Trace ID.\"});}const handlePrint=()=>{const printContents=certificateRef.current.innerHTML;const win=window.open('','','width=800,height=600');win.document.write('<html><head><title>Certificate</title></head><body>');win.document.write(printContents);win.document.write('</body></html>');win.document.close();win.print();};const handleEmail=()=>{const subject=`Chain of Custody Certificate for ${product.id}`;const body=encodeURIComponent(`Certificate for Trace ID: ${product.id}\\nSeed Variety: ${product.seedVariety}\\nGrown Location: ${product.farmName}\\nOrganic Certified: ${product.organicCertified}\\nTHC Level: ${product.thc}\\n\\nChain of Custody:\\n`+product.custodyHistory.map(entry=>`${entry.date}: ${entry.previousStatus} → ${entry.newStatus}`).join('\\n'));window.location.href=`mailto:?subject=${subject}&body=${body}`;};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Chain of Custody\"}),/*#__PURE__*/_jsxs(\"div\",{ref:certificateRef,style:{marginBottom:24,background:'#fff',padding:16,borderRadius:8,boxShadow:'0 2px 8px #ccc'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:16},children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",style:{height:60,marginBottom:8}}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,color:'#42756a'},children:\"Certificate of Chain of Custody\"})]}),/*#__PURE__*/_jsx(\"strong\",{children:\"Barcode Number:\"}),\" \",product.id,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Seed Variety:\"}),\" \",product.seedVariety,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Grown Location:\"}),\" \",product.farmName,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Organic Certified:\"}),\" \",product.organicCertified,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"THC Level:\"}),\" \",product.thc,/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',marginTop:16},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left',padding:'8px',borderBottom:'1px solid #bbb'},children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left',padding:'8px',borderBottom:'1px solid #bbb'},children:\"Previous Status\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left',padding:'8px',borderBottom:'1px solid #bbb'},children:\"New Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:product.custodyHistory&&product.custodyHistory.length>0?product.custodyHistory.map((entry,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px',borderBottom:'1px solid #eee'},children:entry.date}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px',borderBottom:'1px solid #eee'},children:entry.previousStatus}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px',borderBottom:'1px solid #eee'},children:entry.newStatus})]},idx)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:3,style:{padding:'8px'},children:\"No custody history available.\"})})})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePrint,style:{marginRight:8},children:\"Print Certificate\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEmail,style:{marginRight:8},children:\"Email Certificate\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,style:{marginTop:16},children:\"Back\"})]});}export default ChainOfCustodyPage;","map":{"version":3,"names":["React","useRef","ChainOfCustody","logo","jsx","_jsx","jsxs","_jsxs","ChainOfCustodyPage","_ref","product","onBack","certificateRef","children","handlePrint","printContents","current","innerHTML","win","window","open","document","write","close","print","handleEmail","subject","id","body","encodeURIComponent","seedVariety","farmName","organicCertified","thc","custodyHistory","map","entry","date","previousStatus","newStatus","join","location","href","ref","style","marginBottom","background","padding","borderRadius","boxShadow","textAlign","src","alt","height","margin","color","width","borderCollapse","marginTop","borderBottom","length","idx","colSpan","onClick","marginRight"],"sources":["C:/Users/4arag/New Project/traceability-app/src/ChainOfCustodyPage.js"],"sourcesContent":["import React, { useRef } from 'react';\r\nimport ChainOfCustody from './ChainOfCustody';\r\nimport logo from './logo.png';\r\n\r\nfunction ChainOfCustodyPage({ product, onBack }) {\r\n  const certificateRef = useRef();\r\n\r\n  if (!product) {\r\n    return <div>No product found for this Trace ID.</div>;\r\n  }\r\n\r\n  const handlePrint = () => {\r\n    const printContents = certificateRef.current.innerHTML;\r\n    const win = window.open('', '', 'width=800,height=600');\r\n    win.document.write('<html><head><title>Certificate</title></head><body>');\r\n    win.document.write(printContents);\r\n    win.document.write('</body></html>');\r\n    win.document.close();\r\n    win.print();\r\n  };\r\n\r\n  const handleEmail = () => {\r\n    const subject = `Chain of Custody Certificate for ${product.id}`;\r\n    const body = encodeURIComponent(\r\n      `Certificate for Trace ID: ${product.id}\\nSeed Variety: ${product.seedVariety}\\nGrown Location: ${product.farmName}\\nOrganic Certified: ${product.organicCertified}\\nTHC Level: ${product.thc}\\n\\nChain of Custody:\\n` +\r\n      product.custodyHistory.map(entry =>\r\n        `${entry.date}: ${entry.previousStatus} → ${entry.newStatus}`\r\n      ).join('\\n')\r\n    );\r\n    window.location.href = `mailto:?subject=${subject}&body=${body}`;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Chain of Custody</h2>\r\n      <div\r\n        ref={certificateRef}\r\n        style={{\r\n          marginBottom: 24,\r\n          background: '#fff',\r\n          padding: 16,\r\n          borderRadius: 8,\r\n          boxShadow: '0 2px 8px #ccc'\r\n        }}\r\n      >\r\n        <div style={{ textAlign: 'center', marginBottom: 16 }}>\r\n          <img src={logo} alt=\"Logo\" style={{ height: 60, marginBottom: 8 }} />\r\n          <h3 style={{ margin: 0, color: '#42756a' }}>Certificate of Chain of Custody</h3>\r\n        </div>\r\n        <strong>Barcode Number:</strong> {product.id} <br />\r\n        <strong>Seed Variety:</strong> {product.seedVariety} <br />\r\n        <strong>Grown Location:</strong> {product.farmName} <br />\r\n        <strong>Organic Certified:</strong> {product.organicCertified} <br />\r\n        <strong>THC Level:</strong> {product.thc}\r\n        <table style={{ width: '100%', borderCollapse: 'collapse', marginTop: 16 }}>\r\n          <thead>\r\n            <tr>\r\n              <th style={{ textAlign: 'left', padding: '8px', borderBottom: '1px solid #bbb' }}>Date</th>\r\n              <th style={{ textAlign: 'left', padding: '8px', borderBottom: '1px solid #bbb' }}>Previous Status</th>\r\n              <th style={{ textAlign: 'left', padding: '8px', borderBottom: '1px solid #bbb' }}>New Status</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {product.custodyHistory && product.custodyHistory.length > 0 ? (\r\n              product.custodyHistory.map((entry, idx) => (\r\n                <tr key={idx}>\r\n                  <td style={{ padding: '8px', borderBottom: '1px solid #eee' }}>{entry.date}</td>\r\n                  <td style={{ padding: '8px', borderBottom: '1px solid #eee' }}>{entry.previousStatus}</td>\r\n                  <td style={{ padding: '8px', borderBottom: '1px solid #eee' }}>{entry.newStatus}</td>\r\n                </tr>\r\n              ))\r\n            ) : (\r\n              <tr>\r\n                <td colSpan={3} style={{ padding: '8px' }}>No custody history available.</td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <button onClick={handlePrint} style={{ marginRight: 8 }}>Print Certificate</button>\r\n      <button onClick={handleEmail} style={{ marginRight: 8 }}>Email Certificate</button>\r\n      <button onClick={onBack} style={{ marginTop: 16 }}>Back</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChainOfCustodyPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}