{"ast":null,"code":"const EDIT_PASSWORD=\"hemp123\";import React,{useState,useEffect}from'react';import axios from'axios';import HomeScreen from'./HomeScreen';import ProductDetail from'./ProductDetail';import NewProductForm from'./NewProductForm';import ChainOfCustodyPage from'./ChainOfCustodyPage';import logo from'./logo.png';// Password check function\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const requestPassword=()=>{const input=window.prompt(\"Enter password to edit or add a product:\");return input===EDIT_PASSWORD;};function App(){const[traceId,setTraceId]=useState('');const[showDetails,setShowDetails]=useState(false);const[products,setProducts]=useState([]);const[showNewProductForm,setShowNewProductForm]=useState(false);const[editProduct,setEditProduct]=useState(null);const[showChainOfCustody,setShowChainOfCustody]=useState(false);// Load products from backend on mount\nuseEffect(()=>{axios.get('http://localhost:4000/products').then(res=>setProducts(res.data)).catch(err=>console.error(err));},[]);const findProduct=id=>products.find(p=>p.id===id);const handleManualSubmit=e=>{e.preventDefault();if(traceId.trim()){const found=findProduct(traceId.trim());if(found){setShowDetails(true);setShowNewProductForm(false);setEditProduct(null);}else{// Password check for new product\nif(!requestPassword()){alert(\"Incorrect password.\");return;}setShowNewProductForm(true);setShowDetails(false);setEditProduct(null);}}};const handleBarcodeScan=()=>{const simulatedBarcode='NEW987654321';setTraceId(simulatedBarcode);const found=findProduct(simulatedBarcode);if(found){setShowDetails(true);setShowNewProductForm(false);setEditProduct(null);}else{// Password check for new product\nif(!requestPassword()){alert(\"Incorrect password.\");return;}setShowNewProductForm(true);setShowDetails(false);setEditProduct(null);}};const handleBack=()=>{setShowDetails(false);setShowNewProductForm(false);setEditProduct(null);setShowChainOfCustody(false);setTraceId('');};// Save (add or update) a product to backend and update state\nconst handleSaveNewProduct=newProduct=>{axios.post('http://localhost:4000/products',newProduct).then(()=>axios.get('http://localhost:4000/products')).then(res=>{setProducts(res.data);setShowDetails(true);setShowNewProductForm(false);setEditProduct(null);}).catch(err=>console.error(err));};const handleEdit=()=>{// Password check for editing\nif(!requestPassword()){alert(\"Incorrect password.\");return;}const product=findProduct(traceId);setEditProduct(product);setShowNewProductForm(true);setShowDetails(false);};const handleShowChainOfCustody=()=>{setShowChainOfCustody(true);setShowDetails(false);setShowNewProductForm(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Company Logo\",style:{height:60,marginBottom:16}}),/*#__PURE__*/_jsx(HomeScreen,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:32},children:!showDetails&&!showNewProductForm&&!showChainOfCustody?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Scan Barcode\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBarcodeScan,children:\"Scan Barcode (Simulated)\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleManualSubmit,style:{marginTop:16},children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Or enter Trace ID manually:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:traceId,onChange:e=>setTraceId(e.target.value),placeholder:\"e.g. 123456789\",style:{marginLeft:8}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{marginLeft:8},children:\"Submit\"})]})]}):showDetails?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ProductDetail,{product:findProduct(traceId),onEdit:handleEdit,onShowChainOfCustody:handleShowChainOfCustody}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBack,style:{marginTop:16},children:\"Back to Scanner\"})]}):showChainOfCustody?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ChainOfCustodyPage,{product:findProduct(traceId),onBack:handleBack})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(NewProductForm,{traceId:traceId,onSave:handleSaveNewProduct,onCancel:handleBack,initialData:editProduct})})})]});}export default App;","map":{"version":3,"names":["EDIT_PASSWORD","React","useState","useEffect","axios","HomeScreen","ProductDetail","NewProductForm","ChainOfCustodyPage","logo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","requestPassword","input","window","prompt","App","traceId","setTraceId","showDetails","setShowDetails","products","setProducts","showNewProductForm","setShowNewProductForm","editProduct","setEditProduct","showChainOfCustody","setShowChainOfCustody","get","then","res","data","catch","err","console","error","findProduct","id","find","p","handleManualSubmit","e","preventDefault","trim","found","alert","handleBarcodeScan","simulatedBarcode","handleBack","handleSaveNewProduct","newProduct","post","handleEdit","product","handleShowChainOfCustody","className","children","src","alt","style","height","marginBottom","marginTop","onClick","onSubmit","type","value","onChange","target","placeholder","marginLeft","onEdit","onShowChainOfCustody","onBack","onSave","onCancel","initialData"],"sources":["C:/Users/4arag/New Project/traceability-app/src/App.js"],"sourcesContent":["const EDIT_PASSWORD = \"hemp123\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport HomeScreen from './HomeScreen';\nimport ProductDetail from './ProductDetail';\nimport NewProductForm from './NewProductForm';\nimport ChainOfCustodyPage from './ChainOfCustodyPage';\nimport logo from './logo.png';\n\n// Password check function\nconst requestPassword = () => {\n  const input = window.prompt(\"Enter password to edit or add a product:\");\n  return input === EDIT_PASSWORD;\n};\n\nfunction App() {\n  const [traceId, setTraceId] = useState('');\n  const [showDetails, setShowDetails] = useState(false);\n  const [products, setProducts] = useState([]);\n  const [showNewProductForm, setShowNewProductForm] = useState(false);\n  const [editProduct, setEditProduct] = useState(null);\n  const [showChainOfCustody, setShowChainOfCustody] = useState(false);\n\n  // Load products from backend on mount\n  useEffect(() => {\n    axios.get('http://localhost:4000/products')\n      .then(res => setProducts(res.data))\n      .catch(err => console.error(err));\n  }, []);\n\n  const findProduct = (id) => products.find(p => p.id === id);\n\n  const handleManualSubmit = (e) => {\n    e.preventDefault();\n    if (traceId.trim()) {\n      const found = findProduct(traceId.trim());\n      if (found) {\n        setShowDetails(true);\n        setShowNewProductForm(false);\n        setEditProduct(null);\n      } else {\n        // Password check for new product\n        if (!requestPassword()) {\n          alert(\"Incorrect password.\");\n          return;\n        }\n        setShowNewProductForm(true);\n        setShowDetails(false);\n        setEditProduct(null);\n      }\n    }\n  };\n\n  const handleBarcodeScan = () => {\n    const simulatedBarcode = 'NEW987654321';\n    setTraceId(simulatedBarcode);\n    const found = findProduct(simulatedBarcode);\n    if (found) {\n      setShowDetails(true);\n      setShowNewProductForm(false);\n      setEditProduct(null);\n    } else {\n      // Password check for new product\n      if (!requestPassword()) {\n        alert(\"Incorrect password.\");\n        return;\n      }\n      setShowNewProductForm(true);\n      setShowDetails(false);\n      setEditProduct(null);\n    }\n  };\n\n  const handleBack = () => {\n    setShowDetails(false);\n    setShowNewProductForm(false);\n    setEditProduct(null);\n    setShowChainOfCustody(false);\n    setTraceId('');\n  };\n\n  // Save (add or update) a product to backend and update state\n  const handleSaveNewProduct = (newProduct) => {\n    axios.post('http://localhost:4000/products', newProduct)\n      .then(() => axios.get('http://localhost:4000/products'))\n      .then(res => {\n        setProducts(res.data);\n        setShowDetails(true);\n        setShowNewProductForm(false);\n        setEditProduct(null);\n      })\n      .catch(err => console.error(err));\n  };\n\n  const handleEdit = () => {\n    // Password check for editing\n    if (!requestPassword()) {\n      alert(\"Incorrect password.\");\n      return;\n    }\n    const product = findProduct(traceId);\n    setEditProduct(product);\n    setShowNewProductForm(true);\n    setShowDetails(false);\n  };\n\n  const handleShowChainOfCustody = () => {\n    setShowChainOfCustody(true);\n    setShowDetails(false);\n    setShowNewProductForm(false);\n  };\n\n  return (\n    <div className=\"app-container\">\n      <img src={logo} alt=\"Company Logo\" style={{ height: 60, marginBottom: 16 }} />\n      <HomeScreen />\n      <div style={{ marginTop: 32 }}>\n        {!showDetails && !showNewProductForm && !showChainOfCustody ? (\n          <>\n            <h2>Scan Barcode</h2>\n            <button onClick={handleBarcodeScan}>Scan Barcode (Simulated)</button>\n            <form onSubmit={handleManualSubmit} style={{ marginTop: 16 }}>\n              <label>\n                Or enter Trace ID manually:\n                <input\n                  type=\"text\"\n                  value={traceId}\n                  onChange={(e) => setTraceId(e.target.value)}\n                  placeholder=\"e.g. 123456789\"\n                  style={{ marginLeft: 8 }}\n                />\n              </label>\n              <button type=\"submit\" style={{ marginLeft: 8 }}>Submit</button>\n            </form>\n          </>\n        ) : showDetails ? (\n          <>\n            <ProductDetail\n              product={findProduct(traceId)}\n              onEdit={handleEdit}\n              onShowChainOfCustody={handleShowChainOfCustody}\n            />\n            <button onClick={handleBack} style={{ marginTop: 16 }}>Back to Scanner</button>\n          </>\n        ) : showChainOfCustody ? (\n          <>\n            <ChainOfCustodyPage\n              product={findProduct(traceId)}\n              onBack={handleBack}\n            />\n          </>\n        ) : (\n          <>\n            <NewProductForm\n              traceId={traceId}\n              onSave={handleSaveNewProduct}\n              onCancel={handleBack}\n              initialData={editProduct}\n            />\n          </>\n        )}\n      </div>\n    </div>  \n  );\n}\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}